(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-389beecc"],{"3c0e":function(e,t,o){},"98d7":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"exhibition",attrs:{id:"zoomView"}},[o("div",{staticClass:"center book_out_box",style:{left:e.position.x+"px",top:e.position.y+"px"}},[o("i",{staticClass:"el-icon-caret-left book_btn",class:{disabled:e.curPage<=1},style:{transform:"scale("+e.curentZoom+")"},on:{click:e.previous}}),o("div",{style:{width:1600*e.curentZoom+"px"}},[o("div",{staticClass:"container"},[o("div",{attrs:{id:"book"}},[e.pageData.components.length<3?o("div",{staticClass:"harda"},[e._v("START")]):e._e(),e.pageData.components.length<3?o("div",{staticClass:"harda"},[e._m(0)]):e._e(),e._l(e.pageData.components,(function(t){return o("div",{key:t.id,staticClass:"page_box"},[o("ComponentContainer",{attrs:{children:[t],zoom:e.curentZoom}})],1)})),e.pageData.components.length<3?o("div",{staticClass:"harda"},[e._v("END")]):e._e()],2)])]),o("i",{staticClass:"el-icon-caret-right book_btn",class:{disabled:e.curPage>=e.pages},style:{transform:"scale("+e.curentZoom+")"},on:{click:e.next}})]),o("div",{staticClass:"top-utils",on:{mousedown:function(e){e.stopPropagation()}}},[o("div",{staticStyle:{width:"180px"}},[o("el-slider",{attrs:{value:(e.curentZoom/e.maxZoom*100).toFixed(2)-0,"input-size":"mini"},on:{input:e.changeZoomPer}})],1),o("div",{staticClass:"center step_num"},[o("div",{staticClass:"step_num_val"},[e._v(" "+e._s(e._f("filterPage")(e.curPage))+" ")]),o("div",[e._v("/")]),o("div",[e._v(e._s(e.pages))])]),o("div",[o("el-input",{attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search",size:"mini"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]),o("div",{staticClass:"bottom-utils",on:{mousedown:function(e){e.stopPropagation()}}},[e.pages>0?o("el-slider",{attrs:{max:e.pages,min:1,step:1,"show-stops":""},on:{input:e.setPage},model:{value:e.curPage,callback:function(t){e.curPage=t},expression:"curPage"}}):e._e()],1),e.$store.state.playEl?o("div",{staticClass:"volume_box"},[o("div",{staticClass:"msg"},[e._v("↑↓可控制音量")]),e._v(" 当前音量："+e._s(parseInt(100*e.$store.state.volume))+"% ")]):e._e()])},n=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticStyle:{"text-align":"center"}},[e._v("前言")]),o("div",{staticStyle:{"font-size":"14px","padding-top":"20px","letter-spacing":"6px","line-height":"1.5"}},[e._v(" 书籍最少四页，不足的情况下将补充"),o("br"),e._v("《START》《前言》《END》 ")])])}],i=(o("99af"),o("a8be"),o("082a"),o("1fbc")),a={data:function(){return{pageData:"",curentZoom:.5,maxZoom:3,minZoom:.3,curPage:1,pages:0,position:{x:0,y:0},search:""}},created:function(){var e=localStorage.getItem("pageData");this.pageData=e?JSON.parse(e):i["a"]},methods:{changeZoomPer:function(e){this.curentZoom=this.maxZoom*(e/100),this.setZoom()},zoomFn:function(e){this.curentZoom+=e,this.setZoom()},setZoom:function(){this.curentZoom=this.curentZoom>this.maxZoom?this.maxZoom:this.curentZoom,this.curentZoom=this.curentZoom<this.minZoom?this.minZoom:this.curentZoom,$("#book").turn("size",1600*this.curentZoom,1100*this.curentZoom)},next:function(){$("#book").turn("next"),this.curPage=$("#book").turn("page")},previous:function(){$("#book").turn("previous"),this.curPage=$("#book").turn("page")},changePage:function(e){this.curPage+=e,this.setPage()},setPage:function(){$("#book").turn("page",this.curPage)},initBook:function(){var e=this;$("#book").turn({width:1600,height:1100,autoCenter:!0,duration:1600,elevation:50,gradients:!0,when:{turned:function(t,o,s){1==o&&e.$nextTick((function(){$("#book").turn("peel","br")}))}}}),this.pages=$("#book").turn("pages"),this.curPage=$("#book").turn("page"),this.resizeChangeZoom()},resizeChangeZoom:function(){var e=document.body.clientWidth/900/2.6;this.curentZoom=e>1?1:e,this.setZoom()},keydown:function(e){switch(e.keyCode){case 37:this.previous();break;case 38:this.$store.commit("setVolume","add");break;case 39:this.next();break;case 40:this.$store.commit("setVolume","minish");break;default:break}},mousewheel:function(e){e.wheelDelta>0?this.zoomFn(.05):this.zoomFn(-.05)},mousedown:function(){document.addEventListener("mousemove",this.mousemove)},mouseup:function(){document.removeEventListener("mousemove",this.mousemove)},mousemove:function(e){this.position.x+=e.movementX,this.position.y+=e.movementY}},filters:{filterPage:function(e){return e<=1||e>=$("#book").turn("pages")?e:"".concat(e,"-").concat(e+1)}},mounted:function(){this.initBook(),window.addEventListener("resize",this.resizeChangeZoom),window.addEventListener("keydown",this.keydown),document.addEventListener("mousewheel",this.mousewheel,!1),document.addEventListener("mousedown",this.mousedown),document.addEventListener("mouseup",this.mouseup)},destroyed:function(){window.removeEventListener("keydown",this.keydown),window.removeEventListener("resize",this.resizeChangeZoom),document.removeEventListener("mousewheel",this.mousewheel),document.removeEventListener("mousedown",this.mousedown),document.removeEventListener("mouseup",this.mouseup)}},c=a,r=(o("adc0"),o("2877")),u=Object(r["a"])(c,s,n,!1,null,null,null);t["default"]=u.exports},adc0:function(e,t,o){"use strict";o("3c0e")}}]);